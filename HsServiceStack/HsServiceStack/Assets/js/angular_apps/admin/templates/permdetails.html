<h4>Viewing {{userEntityId}}</h4>
<div class="btn-toolbar">
    <a ng-click="navigateBack()" class="btn btn-small btn-info">&laquo; Back To List</a>
</div>
<br />
<p>Click a tag in the "Assigned" permissions to remove it from this user, or in the "Available" permissions to add it to this user.</p>
<table class="table table-striped table-hover table-bordered" ng-init="loadUserPermissions()">
    <thead>
        <th>Types</th>
        <th>Level</th>
        <th>Scope</th>        
    </thead>
    <tbody>
        <tr ng-repeat="grnt in result.PermissionGrants">
            <td>
                <permission-field grant-binding="grnt" 
                                  grant-string-type="PermissionFlagStrings" 
                                  assigned-perm-type="permFlgSplit[$index]"
                                  available-perm-type="permFlgAvailable[$index]"></permission-field>
            </td>
            <td>
                <permission-field grant-binding="grnt" 
                                  grant-string-type="PermissionLevelStrings" 
                                  assigned-perm-type="permLvlSplit[$index]"
                                  available-perm-type="permLvlAvailable[$index]"></permission-field>
            </td>
            <td>
                <permission-field grant-binding="grnt" 
                                  grant-string-type="PermissionScopeStrings" 
                                  assigned-perm-type="permScpSplit[$index]"
                                  available-perm-type="permScpAvailable[$index]"></permission-field>
            </td>
        </tr>
    </tbody>
</table>
<br />
<div class="alert alert-success" id="success-msg" style="display:none;">Permissions saved successfully!</div>
<div class="alert alert-danger" id="error-msg" style="display:none;">Uh oh! There was an error saving the permissions, 
    please try again or contact your administrator for help.</div>
<a ng-click="savePermissions()" class="btn btn-success">Save Permissions</a>